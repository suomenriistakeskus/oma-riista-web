<!-- Prevent margin from collapsing -->
<div>&nbsp;</div>

<h2 class="r-page-context-heading text-center" ng-bind-html="'registration.email.titleHtml' | translate"></h2>

<div class="container">
    <div class="well" ng-bind-html="'registration.email.textHtml' | translate"></div>

    <form name="form" class="row" novalidate>
        <div class="col-md-6 col-md-offset-3">
            <div class="alert alert-danger"
                 ng-show="$ctrl.error">
                <strong translate="registration.processing.error"></strong>
            </div>

            <div class="alert alert-warning"
                 ng-show="$ctrl.processing"
                 translate="registration.processing.wait"></div>

            <div class="form-group" show-errors="{ trigger: 'keypress' }">
                <label for="email" translate="registration.form.email"></label>

                <input type="text" name="email" id="email"
                       autocomplete="off" autocorrect="off" autocapitalize="none"
                       class="form-control"
                       ng-disabled="$ctrl.processing"
                       ng-model="$ctrl.email"
                       ng-model-options="{ debounce : { 'default' : 200, blur : 0 } }"
                       ng-maxlength="255"
                       valid-person-email
                       focus-me
                       required>

                <div ng-show="form.email.$dirty">
                    <p class="help-block" ng-show="form.email.$error.required"
                       translate="registration.form.required"></p>
                    <p class="help-block" ng-show="form.email.$error.personEmail"
                       translate="registration.form.invalid.email"></p>
                    <p class="help-block" ng-show="form.email.$error.notRiistaEmail"
                       translate="registration.form.invalid.emailEndsWithRiistaFi"></p>
                </div>
            </div>

            <div class="form-group text-right">
                <button type="submit"
                        class="btn btn-lg btn-primary"
                        ng-click="form.$valid && $ctrl.submitForm()"
                        ng-disabled="form.$invalid || form.$pending || $ctrl.processing">
                    <span translate="registration.form.button.send"></span>
                    <span class="glyphicon glyphicon-circle-arrow-right"></span>
                </button>
            </div>
        </div>
    </form>
</div>
