<table class="table table-condensed moose-permit-infotable-payments">
    <thead>
    <tr class="topheader">
        <th colspan="1"></th>
        <th colspan="2">
            <r-with-tooltip content-key="club.permit.allocation.harvestedSpecimens.top"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.topTooltip"></r-with-tooltip>
        </th>
        <th colspan="2">
            <r-with-tooltip content-key="club.permit.allocation.notEdible.top"
                            tooltip-key="club.permit.allocation.notEdible.topTooltip"></r-with-tooltip>
        </th>
        <th colspan="3">
            <r-with-tooltip content-key="club.permit.allocation.payment.top"
                            tooltip-key="club.permit.allocation.payment.topTooltip"></r-with-tooltip>
        </th>
    </tr>

    <tr class="lowheader">
        <th translate="club.permit.allocation.partner"></th>

        <th>
            <r-with-tooltip content-key="club.permit.allocation.harvestedSpecimens.a"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.aTooltip"></r-with-tooltip>
        </th>
        <th>
            <r-with-tooltip content-key="club.permit.allocation.harvestedSpecimens.v"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.vTooltip"></r-with-tooltip>
        </th>

        <th>
            <r-with-tooltip content-key="club.permit.allocation.notEdible.a"
                            tooltip-key="club.permit.allocation.notEdible.aTooltip"></r-with-tooltip>
        </th>
        <th>
            <r-with-tooltip content-key="club.permit.allocation.notEdible.v"
                            tooltip-key="club.permit.allocation.notEdible.vTooltip"></r-with-tooltip>
        </th>

        <th>
            <r-with-tooltip content-key="club.permit.allocation.payment.adults"
                            tooltip-key="club.permit.allocation.payment.adultsTooltip"></r-with-tooltip>
        </th>
        <th>
            <r-with-tooltip content-key="club.permit.allocation.payment.young"
                            tooltip-key="club.permit.allocation.payment.youngTooltip"></r-with-tooltip>
        </th>
        <th>
            <r-with-tooltip content-key="club.permit.allocation.payment.total"
                            tooltip-key="club.permit.allocation.payment.totalTooltip"></r-with-tooltip>
        </th>

    </tr>
    </thead>

    <tbody>
    <tr class="summary">
        <td translate="club.permit.sumTitle"></td>

        <td>
            <r-with-tooltip content-val="{{::$ctrl.counter.harvestsBy('adult')}}"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.aCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::$ctrl.counter.harvestsBy('young')}}"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.vCellTooltip"></r-with-tooltip>
        </td>

        <td>
            <r-with-tooltip content-val="{{::$ctrl.counter.harvestsBy('adultsNotEdible')}}"
                            tooltip-key="club.permit.allocation.notEdible.aCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::$ctrl.counter.harvestsBy('youngsNotEdible')}}"
                            tooltip-key="club.permit.allocation.notEdible.vCellTooltip"></r-with-tooltip>
        </td>

        <td>
            <r-with-tooltip content-val="{{::$ctrl.totalPayment.adultsPayment}}&euro;"
                            tooltip-key="club.permit.allocation.payment.adultsCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::$ctrl.totalPayment.youngPayment}}&euro;"
                            tooltip-key="club.permit.allocation.payment.youngCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip ng-if="::$ctrl.amendmentPermitsMatchHarvests"
                            content-val="{{::$ctrl.totalPayment.totalPayment}}&euro;"
                            tooltip-key="club.permit.allocation.payment.totalCellTooltip"></r-with-tooltip>

            <span ng-if="::(!$ctrl.amendmentPermitsMatchHarvests)"
                  class="text-danger fa fa-exclamation-triangle"></span>
        </td>
    </tr>
    <tr ng-repeat="partner in ::$ctrl.partners track by partner.huntingClubId"
        ng-class="{'current-club': $ctrl.isCurrentClub({'partner': partner})}">
        <td>
            <span ng-if="::partner.summary.fromMooseDataCard"
                  class="fa fa-file-text"
                  uib-tooltip="{{ 'club.permit.allocation.fromMooseDataCard' | translate }}"
                  tooltip-popup-delay="0"
                  tooltip-placement="right">
            </span>

            <moose-permit-todo todo="::partner.todo"></moose-permit-todo>

            <a ng-if="::$ctrl.canNavigateToClub"
               name-translated="::partner.huntingClubName"
               ng-click="$ctrl.navigateToClub({'partner': partner})"></a>

            <span ng-if="::(!$ctrl.canNavigateToClub)"
                  name-translated="::partner.huntingClubName"></span>
        </td>

        <td>
            <r-with-tooltip content-val="{{::(partner.harvestCount.adultMales + partner.harvestCount.adultFemales)}}"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.aCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::(partner.harvestCount.youngMales + partner.harvestCount.youngFemales)}}"
                            tooltip-key="club.permit.allocation.harvestedSpecimens.vCellTooltip"></r-with-tooltip>
        </td>

        <td>
            <r-with-tooltip content-val="{{::(partner.harvestCount.adultsNotEdible)}}"
                            tooltip-key="club.permit.allocation.notEdible.aCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::(partner.harvestCount.youngsNotEdible)}}"
                            tooltip-key="club.permit.allocation.notEdible.vCellTooltip"></r-with-tooltip>
        </td>

        <td>
            <r-with-tooltip content-val="{{::(partner.payment.adultsPayment)}}&euro;"
                            tooltip-key="club.permit.allocation.payment.adultsCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip content-val="{{::(partner.payment.youngPayment)}}&euro;"
                            tooltip-key="club.permit.allocation.payment.youngCellTooltip"></r-with-tooltip>
        </td>
        <td>
            <r-with-tooltip
                    ng-if="::$ctrl.showTotalPaymentAmount(partner)"
                    content-val="{{partner.payment.totalPayment}}&euro;"
                    tooltip-key="club.permit.allocation.payment.totalCellTooltip"></r-with-tooltip>

            <span ng-if="$ctrl.showAmendmentPermitDoNotMatchWarning(partner)"
                  class="text-danger fa fa-exclamation-triangle"></span>
        </td>
    </tr>
    </tbody>
</table>
