<form name="addPaymentForm" role="form" class="form" autocomplete="off" r-force-show-errors-check-validity>

    <div class="modal-header">
        <h3 class="modal-title">
            <div translate="jht.invoice.show.paymentLineDialog.title"></div>
        </h3>
        <button riista-modal-close></button>
    </div>

    <div class="modal-body">
        <div class="row">
            <div class="form-group col-xs-6 col-md-offset-2 col-md-5" show-errors>
                <label for="paymentDate" class="control-label">
                    <span translate="payment.paidDate"></span>
                </label>

                <div class="form-control-wrapper input-group" ng-controller="DatePickerController">
                    <input type="text" name="paymentDate" id="paymentDate"
                           class="form-control"
                           ng-model="$ctrl.payment.paymentDate"
                           required
                           date-between-min-max min-date="$ctrl.minPaymentDate" max-date="today()"
                           uib-datepicker-popup is-open="isDatePickerOpen"/>

                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="toggleDatePopup($event)">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </button>
                    </div>
                </div>

                <div class="form-control-offset-wrapper" ng-show="addPaymentForm.paymentDate.$invalid">
                    <p class="help-block" translate="global.messages.invalid"></p>
                </div>
            </div>

            <div class="form-group col-xs-6 col-md-5" show-errors>
                <label for="amount" class="control-label">
                    <span translate="jht.invoice.show.paymentLineDialog.paymentSum"></span>
                </label>

                <div class="form-control-wrapper input-group">
                    <input type="number" name="amount" id="amount"
                           class="form-control no-spinner"
                           ng-model="$ctrl.payment.amount"
                           min="-99999" max="99999" step="0.01"
                           required/>

                    <div class="input-group-addon">
                        <span>&euro;</span>
                    </div>
                </div>

                <div class="form-control-offset-wrapper" ng-show="addPaymentForm.amount.$invalid">
                    <p class="help-block" translate="global.messages.invalid"></p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-default"
                ng-click="$ctrl.cancel()"
                translate="global.button.cancel"></button>

        <button type="button" class="btn btn-primary"
                ng-disabled="addPaymentForm.$invalid"
                ng-click="$ctrl.save()">

            <span class="glyphicon glyphicon-plus"></span>&nbsp;
            <span translate="global.button.save"></span>
        </button>
    </div>
</form>
