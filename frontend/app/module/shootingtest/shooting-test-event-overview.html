<div class="row">
    <div class="col-xs-6">
        <div class="h5">
            <span>{{'event.type.' + $ctrl.event.calendarEventType | translate}}</span>
            <span>{{$ctrl.event.name | truncateCharacters:50}}</span>
            <span>{{$ctrl.event.date |date:'d.M.yyyy'}}</span>
            <span>{{$ctrl.event.beginTime}}</span>
            <span ng-if="$ctrl.event.endTime"> - {{$ctrl.event.endTime}}</span>
        </div>

        <div ng-bind="$ctrl.event.venue.name | truncateCharacters:50"></div>
        <div ng-bind="$ctrl.event.venue.address.streetAddress | truncateCharacters:30"></div>
        <div ng-bind="$ctrl.event.venue.address.postalCode"></div>
        <div ng-bind="$ctrl.event.venue.address.city | truncateCharacters:30" class="r-city"></div>
    </div>

    <div class="col-xs-6">
        <div class="row">
            <div class="col-xs-12 col-sm-offset-2 col-sm-10 col-md-offset-4 col-md-8 col-lg-offset-6 col-lg-6">
                <shooting-test-payment-summary total-paid-amount="$ctrl.event.totalPaidAmount"></shooting-test-payment-summary>
            </div>
        </div>
    </div>
</div>

<div>
    <hr class="invisible" ng-if="$ctrl.isAnyLifecycleButtonVisible()"/>

    <button class="btn btn-primary"
            translate="shootingTest.overview.open"
            ng-if="$ctrl.canOpenEvent()"
            ng-click="$ctrl.openEvent()"></button>

    <button class="btn btn-primary"
            translate="shootingTest.overview.close"
            ng-if="$ctrl.canCloseEvent()"
            ng-confirm-click ng-confirm-click-action="$ctrl.closeEvent()"></button>

    <button class="btn btn-primary"
            translate="shootingTest.overview.reopen"
            ng-if="$ctrl.canReopenEvent()"
            ng-confirm-click ng-confirm-click-action="$ctrl.reopenEvent()"></button>
</div>

<div ng-if="$ctrl.event.isOpened()">
    <hr class="invisible"/>

    <div class="h5" translate="shootingTest.overview.titleListOfficials"></div>

    <div class="table-responsive">
        <table class="table table-striped table-condensed">
            <tbody>
            <tr ng-repeat="official in $ctrl.event.officials|orderBy:['lastName', 'firstName'] track by official.id">
                <td>
                    <span ng-bind="official.lastName"></span>
                    <span ng-bind="official.firstName"></span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div>
        <button class="btn btn-primary"
                translate="shootingTest.overview.assignOfficials"
                ng-if="$ctrl.canAssignOfficials()"
                ng-click="$ctrl.assignOfficials()"></button>
    </div>
</div>
